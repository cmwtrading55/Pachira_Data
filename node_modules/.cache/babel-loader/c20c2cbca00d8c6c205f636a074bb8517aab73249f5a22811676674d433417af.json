{"ast":null,"code":"// src/components/GoogleSheetData.js\nimport React,{useState,useEffect,useMemo}from'react';import axios from'axios';import SummaryTable from'./SummaryTable';import{fetchDataFromSheet}from'../utils/DataFetcher';import{calculateWeeklySummary,calculateAllSummary}from'../utils/Calculations';import'./GoogleSheetData.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const GoogleSheetData=()=>{const[summaryData,setSummaryData]=useState([]);const[weeklySummaryData,setWeeklySummaryData]=useState([]);const[allSummaryData,setAllSummaryData]=useState([]);const[dailyPachiraData,setDailyPachiraData]=useState([]);const[weeklyPachiraData,setWeeklyPachiraData]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[sortConfig,setSortConfig]=useState({key:'date',direction:'ascending'});const[view,setView]=useState('daily');const sheetId='1D2B33Uj1vS_weRZQAQdMRcaQbk1KG1SAjNfoaHAKrSo';// Your Google Sheet ID\nconst apiKey='AIzaSyCPXl_3elTDd4_gs-xpPmm4laVoO3P4RPA';// Your API Key\n// Memoize the tabNames array to prevent re-creation on each render\nconst tabNames=useMemo(()=>['S1x','S2x','S3PM','S3IR','follow','Tennis','MLB','American Football'],[]);// Define the tab names to be used in the Pachira views\nconst pachiraTabNames=useMemo(()=>['follow','Tennis','MLB','American Football'],[]);useEffect(()=>{const fetchAllData=async()=>{try{console.log('Fetching data for all tabs...');// Fetch data from all tabs\nconst tabDataResults=await fetchDataFromSheet(sheetId,apiKey,tabNames);console.log('Tab data results:',tabDataResults);// Combine all data into a summary object\nconst summary={};const dailyPachiraSummary={};tabDataResults.forEach(_ref=>{let{tabName,data,error}=_ref;if(data===null){console.error(`No data received for ${tabName}. Error:`,error!==null&&error!==void 0&&error.response?error.response.data:error.message);return;}const tabData=data.values||[];console.log(`Processing data for ${tabName}`,tabData.slice(0,5));// Log first 5 rows\nif(tabData.length<2){console.warn(`No data found in tab ${tabName}`);}else{console.log(`Total rows in ${tabName}:`,tabData.length);}// Skip the header row and process each row\ntabData.slice(1).forEach((row,rowIndex)=>{const date=row[0];// Date column\n// Use column K (index 10) for income in Tennis, MLB, and American Football tabs; column I (index 8) for other tabs\nconst incomeColumnIndex=['Tennis','MLB','American Football'].includes(tabName)?10:8;// Specific column handling for Turnover:\n// - Column E (index 4) for Tennis\n// - Column F (index 5) for American Football, MLB, and other tabs\nconst turnoverColumnIndex=tabName==='Tennis'?4:5;// Check if income and turnover columns exist and have valid numbers\nif(row[incomeColumnIndex]!==undefined&&row[turnoverColumnIndex]!==undefined){const incomeRaw=row[incomeColumnIndex].replace(/,/g,'').trim();const turnoverRaw=row[turnoverColumnIndex].replace(/,/g,'').trim();const income=parseFloat(incomeRaw);const turnover=parseFloat(turnoverRaw);// Log values to ensure they're being parsed correctly\nconsole.log(`Processing row ${rowIndex+1} for ${tabName} on ${date}: Income = ${income}, Turnover = ${turnover}`);if(!isNaN(income)&&!isNaN(turnover)){// Update the summary object\nif(!summary[date]){summary[date]={date,TotalTurnover:0,Total:0};// Initialize with Total and TotalTurnover\n}summary[date][tabName]=(summary[date][tabName]||0)+income;summary[date][`turnover_${tabName}`]=(summary[date][`turnover_${tabName}`]||0)+turnover;// Update TotalTurnover and Total for the full summary\nsummary[date].TotalTurnover+=turnover;summary[date].Total+=income;// For Pachira Summary\nif(pachiraTabNames.includes(tabName)){if(!dailyPachiraSummary[date]){dailyPachiraSummary[date]={date,Total:0};}dailyPachiraSummary[date][tabName]=(dailyPachiraSummary[date][tabName]||0)+income;dailyPachiraSummary[date].Total+=income;}}else{console.warn(`Invalid income or turnover value at row ${rowIndex+1} for ${tabName} on ${date}:`,row[incomeColumnIndex],row[turnoverColumnIndex]);}}else{console.warn(`Missing income or turnover value at row ${rowIndex+1} for ${tabName} on ${date}`);}});});// Convert summary and dailyPachiraSummary objects to arrays\nconst summaryArray=Object.values(summary);const dailyPachiraArray=Object.values(dailyPachiraSummary);console.log('Final Summary Data:',summaryArray);console.log('Final Daily Pachira Data:',dailyPachiraArray);// Calculate weekly summaries\nconst weeklyPachiraArray=calculateWeeklySummary(dailyPachiraArray,pachiraTabNames);setSummaryData(summaryArray);setWeeklySummaryData(calculateWeeklySummary(summaryArray,tabNames));setAllSummaryData(calculateAllSummary(summaryArray,tabNames));setDailyPachiraData(dailyPachiraArray);setWeeklyPachiraData(weeklyPachiraArray);}catch(error){setError('Error fetching data');console.error('Error fetching data:',error);}finally{setLoading(false);}};fetchAllData();},[apiKey,sheetId,tabNames,pachiraTabNames]);const sortData=key=>{let direction='ascending';if(sortConfig.key===key&&sortConfig.direction==='ascending'){direction='descending';}const dataToSort=view==='daily'?summaryData:view==='weekly'?weeklySummaryData:view==='all'?allSummaryData:view==='dailyPachira'?dailyPachiraData:view==='weeklyPachira'?weeklyPachiraData:[];const sortedData=[...dataToSort].sort((a,b)=>{if(key==='date'||key==='weekStart'){return direction==='ascending'?new Date(a[key].split('/').reverse().join('-'))-new Date(b[key].split('/').reverse().join('-')):new Date(b[key].split('/').reverse().join('-'))-new Date(a[key].split('/').reverse().join('-'));}else{const aValue=a[key]!==undefined?a[key]:0;const bValue=b[key]!==undefined?b[key]:0;return direction==='ascending'?aValue-bValue:bValue-aValue;}});if(view==='daily'){setSummaryData(sortedData);}else if(view==='weekly'){setWeeklySummaryData(sortedData);}else if(view==='all'){setAllSummaryData(sortedData);}else if(view==='dailyPachira'){setDailyPachiraData(sortedData);}else if(view==='weeklyPachira'){setWeeklyPachiraData(sortedData);}setSortConfig({key,direction});};if(loading)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});if(error)return/*#__PURE__*/_jsx(\"div\",{children:error});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Performance Summary\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setView('daily'),children:\"Daily Summary\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setView('weekly'),children:\"Weekly Summary\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setView('all'),children:\"All Summary\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setView('dailyPachira'),children:\"Daily Pachira Income\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setView('weeklyPachira'),children:\"Weekly Pachira Income\"})]}),view==='daily'?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Daily Summary\"}),/*#__PURE__*/_jsx(SummaryTable,{data:summaryData,sortConfig:sortConfig,sortData:sortData,tabNames:tabNames,isWeekly:false,isAllSummary:false})]}):view==='weekly'?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Weekly Summary\"}),/*#__PURE__*/_jsx(SummaryTable,{data:weeklySummaryData,sortConfig:sortConfig,sortData:sortData,tabNames:tabNames,isWeekly:true,isAllSummary:false})]}):view==='all'?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"All Summary\"}),/*#__PURE__*/_jsx(SummaryTable,{data:allSummaryData,sortConfig:sortConfig,sortData:sortData,tabNames:tabNames,isWeekly:false,isAllSummary:true})]}):view==='dailyPachira'?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Daily Pachira Income\"}),/*#__PURE__*/_jsx(SummaryTable,{data:dailyPachiraData,sortConfig:sortConfig,sortData:sortData,tabNames:pachiraTabNames,isWeekly:false,isAllSummary:false})]}):view==='weeklyPachira'?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Weekly Pachira Income\"}),/*#__PURE__*/_jsx(SummaryTable,{data:weeklyPachiraData,sortConfig:sortConfig,sortData:sortData,tabNames:pachiraTabNames,isWeekly:true,isAllSummary:false})]}):null]});};export default GoogleSheetData;","map":{"version":3,"names":["React","useState","useEffect","useMemo","axios","SummaryTable","fetchDataFromSheet","calculateWeeklySummary","calculateAllSummary","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","GoogleSheetData","summaryData","setSummaryData","weeklySummaryData","setWeeklySummaryData","allSummaryData","setAllSummaryData","dailyPachiraData","setDailyPachiraData","weeklyPachiraData","setWeeklyPachiraData","loading","setLoading","error","setError","sortConfig","setSortConfig","key","direction","view","setView","sheetId","apiKey","tabNames","pachiraTabNames","fetchAllData","console","log","tabDataResults","summary","dailyPachiraSummary","forEach","_ref","tabName","data","response","message","tabData","values","slice","length","warn","row","rowIndex","date","incomeColumnIndex","includes","turnoverColumnIndex","undefined","incomeRaw","replace","trim","turnoverRaw","income","parseFloat","turnover","isNaN","TotalTurnover","Total","summaryArray","Object","dailyPachiraArray","weeklyPachiraArray","sortData","dataToSort","sortedData","sort","a","b","Date","split","reverse","join","aValue","bValue","children","onClick","isWeekly","isAllSummary"],"sources":["C:/Users/CMW1/Downloads/pachira-financials/src/components/GoogleSheetData.js"],"sourcesContent":["// src/components/GoogleSheetData.js\r\nimport React, { useState, useEffect, useMemo } from 'react';\r\nimport axios from 'axios';\r\nimport SummaryTable from './SummaryTable';\r\nimport { fetchDataFromSheet } from '../utils/DataFetcher';\r\nimport { calculateWeeklySummary, calculateAllSummary } from '../utils/Calculations';\r\nimport './GoogleSheetData.css';\r\n\r\nconst GoogleSheetData = () => {\r\n  const [summaryData, setSummaryData] = useState([]);\r\n  const [weeklySummaryData, setWeeklySummaryData] = useState([]);\r\n  const [allSummaryData, setAllSummaryData] = useState([]);\r\n  const [dailyPachiraData, setDailyPachiraData] = useState([]);\r\n  const [weeklyPachiraData, setWeeklyPachiraData] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [sortConfig, setSortConfig] = useState({ key: 'date', direction: 'ascending' });\r\n  const [view, setView] = useState('daily');\r\n\r\n  const sheetId = '1D2B33Uj1vS_weRZQAQdMRcaQbk1KG1SAjNfoaHAKrSo'; // Your Google Sheet ID\r\n  const apiKey = 'AIzaSyCPXl_3elTDd4_gs-xpPmm4laVoO3P4RPA'; // Your API Key\r\n\r\n  // Memoize the tabNames array to prevent re-creation on each render\r\n  const tabNames = useMemo(() => ['S1x', 'S2x', 'S3PM', 'S3IR', 'follow', 'Tennis', 'MLB', 'American Football'], []);\r\n\r\n  // Define the tab names to be used in the Pachira views\r\n  const pachiraTabNames = useMemo(() => ['follow', 'Tennis', 'MLB', 'American Football'], []);\r\n\r\n  useEffect(() => {\r\n    const fetchAllData = async () => {\r\n      try {\r\n        console.log('Fetching data for all tabs...');\r\n\r\n        // Fetch data from all tabs\r\n        const tabDataResults = await fetchDataFromSheet(sheetId, apiKey, tabNames);\r\n        console.log('Tab data results:', tabDataResults);\r\n\r\n        // Combine all data into a summary object\r\n        const summary = {};\r\n        const dailyPachiraSummary = {};\r\n\r\n        tabDataResults.forEach(({ tabName, data, error }) => {\r\n          if (data === null) {\r\n            console.error(`No data received for ${tabName}. Error:`, error?.response ? error.response.data : error.message);\r\n            return;\r\n          }\r\n\r\n          const tabData = data.values || [];\r\n          console.log(`Processing data for ${tabName}`, tabData.slice(0, 5)); // Log first 5 rows\r\n\r\n          if (tabData.length < 2) {\r\n            console.warn(`No data found in tab ${tabName}`);\r\n          } else {\r\n            console.log(`Total rows in ${tabName}:`, tabData.length);\r\n          }\r\n\r\n          // Skip the header row and process each row\r\n          tabData.slice(1).forEach((row, rowIndex) => {\r\n            const date = row[0]; // Date column\r\n\r\n            // Use column K (index 10) for income in Tennis, MLB, and American Football tabs; column I (index 8) for other tabs\r\n            const incomeColumnIndex = ['Tennis', 'MLB', 'American Football'].includes(tabName) ? 10 : 8;\r\n\r\n            // Specific column handling for Turnover:\r\n            // - Column E (index 4) for Tennis\r\n            // - Column F (index 5) for American Football, MLB, and other tabs\r\n            const turnoverColumnIndex = tabName === 'Tennis' ? 4 : 5;\r\n\r\n            // Check if income and turnover columns exist and have valid numbers\r\n            if (row[incomeColumnIndex] !== undefined && row[turnoverColumnIndex] !== undefined) {\r\n              const incomeRaw = row[incomeColumnIndex].replace(/,/g, '').trim();\r\n              const turnoverRaw = row[turnoverColumnIndex].replace(/,/g, '').trim();\r\n              const income = parseFloat(incomeRaw);\r\n              const turnover = parseFloat(turnoverRaw);\r\n\r\n              // Log values to ensure they're being parsed correctly\r\n              console.log(`Processing row ${rowIndex + 1} for ${tabName} on ${date}: Income = ${income}, Turnover = ${turnover}`);\r\n\r\n              if (!isNaN(income) && !isNaN(turnover)) {\r\n                // Update the summary object\r\n                if (!summary[date]) {\r\n                  summary[date] = { date, TotalTurnover: 0, Total: 0 }; // Initialize with Total and TotalTurnover\r\n                }\r\n                summary[date][tabName] = (summary[date][tabName] || 0) + income;\r\n                summary[date][`turnover_${tabName}`] = (summary[date][`turnover_${tabName}`] || 0) + turnover;\r\n\r\n                // Update TotalTurnover and Total for the full summary\r\n                summary[date].TotalTurnover += turnover;\r\n                summary[date].Total += income;\r\n\r\n                // For Pachira Summary\r\n                if (pachiraTabNames.includes(tabName)) {\r\n                  if (!dailyPachiraSummary[date]) {\r\n                    dailyPachiraSummary[date] = { date, Total: 0 };\r\n                  }\r\n                  dailyPachiraSummary[date][tabName] = (dailyPachiraSummary[date][tabName] || 0) + income;\r\n                  dailyPachiraSummary[date].Total += income;\r\n                }\r\n              } else {\r\n                console.warn(`Invalid income or turnover value at row ${rowIndex + 1} for ${tabName} on ${date}:`, row[incomeColumnIndex], row[turnoverColumnIndex]);\r\n              }\r\n            } else {\r\n              console.warn(`Missing income or turnover value at row ${rowIndex + 1} for ${tabName} on ${date}`);\r\n            }\r\n          });\r\n        });\r\n\r\n        // Convert summary and dailyPachiraSummary objects to arrays\r\n        const summaryArray = Object.values(summary);\r\n        const dailyPachiraArray = Object.values(dailyPachiraSummary);\r\n\r\n        console.log('Final Summary Data:', summaryArray);\r\n        console.log('Final Daily Pachira Data:', dailyPachiraArray);\r\n\r\n        // Calculate weekly summaries\r\n        const weeklyPachiraArray = calculateWeeklySummary(dailyPachiraArray, pachiraTabNames);\r\n\r\n        setSummaryData(summaryArray);\r\n        setWeeklySummaryData(calculateWeeklySummary(summaryArray, tabNames));\r\n        setAllSummaryData(calculateAllSummary(summaryArray, tabNames));\r\n        setDailyPachiraData(dailyPachiraArray);\r\n        setWeeklyPachiraData(weeklyPachiraArray);\r\n      } catch (error) {\r\n        setError('Error fetching data');\r\n        console.error('Error fetching data:', error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchAllData();\r\n  }, [apiKey, sheetId, tabNames, pachiraTabNames]);\r\n\r\n  const sortData = (key) => {\r\n    let direction = 'ascending';\r\n    if (sortConfig.key === key && sortConfig.direction === 'ascending') {\r\n      direction = 'descending';\r\n    }\r\n\r\n    const dataToSort =\r\n      view === 'daily' ? summaryData :\r\n      view === 'weekly' ? weeklySummaryData :\r\n      view === 'all' ? allSummaryData :\r\n      view === 'dailyPachira' ? dailyPachiraData :\r\n      view === 'weeklyPachira' ? weeklyPachiraData : [];\r\n\r\n    const sortedData = [...dataToSort].sort((a, b) => {\r\n      if (key === 'date' || key === 'weekStart') {\r\n        return direction === 'ascending'\r\n          ? new Date(a[key].split('/').reverse().join('-')) - new Date(b[key].split('/').reverse().join('-'))\r\n          : new Date(b[key].split('/').reverse().join('-')) - new Date(a[key].split('/').reverse().join('-'));\r\n      } else {\r\n        const aValue = a[key] !== undefined ? a[key] : 0;\r\n        const bValue = b[key] !== undefined ? b[key] : 0;\r\n        return direction === 'ascending' ? aValue - bValue : bValue - aValue;\r\n      }\r\n    });\r\n\r\n        if (view === 'daily') {\r\n      setSummaryData(sortedData);\r\n    } else if (view === 'weekly') {\r\n      setWeeklySummaryData(sortedData);\r\n    } else if (view === 'all') {\r\n      setAllSummaryData(sortedData);\r\n    } else if (view === 'dailyPachira') {\r\n      setDailyPachiraData(sortedData);\r\n    } else if (view === 'weeklyPachira') {\r\n      setWeeklyPachiraData(sortedData);\r\n    }\r\n\r\n    setSortConfig({ key, direction });\r\n  };\r\n\r\n  if (loading) return <div>Loading...</div>;\r\n  if (error) return <div>{error}</div>;\r\n\r\n  return (\r\n    <div>\r\n      <h1>Performance Summary</h1>\r\n      <div>\r\n        <button onClick={() => setView('daily')}>Daily Summary</button>\r\n        <button onClick={() => setView('weekly')}>Weekly Summary</button>\r\n        <button onClick={() => setView('all')}>All Summary</button>\r\n        <button onClick={() => setView('dailyPachira')}>Daily Pachira Income</button>\r\n        <button onClick={() => setView('weeklyPachira')}>Weekly Pachira Income</button>\r\n      </div>\r\n      {view === 'daily' ? (\r\n        <>\r\n          <h2>Daily Summary</h2>\r\n          <SummaryTable\r\n            data={summaryData}\r\n            sortConfig={sortConfig}\r\n            sortData={sortData}\r\n            tabNames={tabNames}\r\n            isWeekly={false}\r\n            isAllSummary={false}\r\n          />\r\n        </>\r\n      ) : view === 'weekly' ? (\r\n        <>\r\n          <h2>Weekly Summary</h2>\r\n          <SummaryTable\r\n            data={weeklySummaryData}\r\n            sortConfig={sortConfig}\r\n            sortData={sortData}\r\n            tabNames={tabNames}\r\n            isWeekly={true}\r\n            isAllSummary={false}\r\n          />\r\n        </>\r\n      ) : view === 'all' ? (\r\n        <>\r\n          <h2>All Summary</h2>\r\n          <SummaryTable\r\n            data={allSummaryData}\r\n            sortConfig={sortConfig}\r\n            sortData={sortData}\r\n            tabNames={tabNames}\r\n            isWeekly={false}\r\n            isAllSummary={true}\r\n          />\r\n        </>\r\n      ) : view === 'dailyPachira' ? (\r\n        <>\r\n          <h2>Daily Pachira Income</h2>\r\n          <SummaryTable\r\n            data={dailyPachiraData}\r\n            sortConfig={sortConfig}\r\n            sortData={sortData}\r\n            tabNames={pachiraTabNames}\r\n            isWeekly={false}\r\n            isAllSummary={false}\r\n          />\r\n        </>\r\n      ) : view === 'weeklyPachira' ? (\r\n        <>\r\n          <h2>Weekly Pachira Income</h2>\r\n          <SummaryTable\r\n            data={weeklyPachiraData}\r\n            sortConfig={sortConfig}\r\n            sortData={sortData}\r\n            tabNames={pachiraTabNames}\r\n            isWeekly={true}\r\n            isAllSummary={false}\r\n          />\r\n        </>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GoogleSheetData;\r\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,OAAO,KAAQ,OAAO,CAC3D,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,YAAY,KAAM,gBAAgB,CACzC,OAASC,kBAAkB,KAAQ,sBAAsB,CACzD,OAASC,sBAAsB,CAAEC,mBAAmB,KAAQ,uBAAuB,CACnF,MAAO,uBAAuB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAE/B,KAAM,CAAAC,eAAe,CAAGA,CAAA,GAAM,CAC5B,KAAM,CAACC,WAAW,CAAEC,cAAc,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAACiB,iBAAiB,CAAEC,oBAAoB,CAAC,CAAGlB,QAAQ,CAAC,EAAE,CAAC,CAC9D,KAAM,CAACmB,cAAc,CAAEC,iBAAiB,CAAC,CAAGpB,QAAQ,CAAC,EAAE,CAAC,CACxD,KAAM,CAACqB,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGtB,QAAQ,CAAC,EAAE,CAAC,CAC5D,KAAM,CAACuB,iBAAiB,CAAEC,oBAAoB,CAAC,CAAGxB,QAAQ,CAAC,EAAE,CAAC,CAC9D,KAAM,CAACyB,OAAO,CAAEC,UAAU,CAAC,CAAG1B,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAAC2B,KAAK,CAAEC,QAAQ,CAAC,CAAG5B,QAAQ,CAAC,IAAI,CAAC,CACxC,KAAM,CAAC6B,UAAU,CAAEC,aAAa,CAAC,CAAG9B,QAAQ,CAAC,CAAE+B,GAAG,CAAE,MAAM,CAAEC,SAAS,CAAE,WAAY,CAAC,CAAC,CACrF,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGlC,QAAQ,CAAC,OAAO,CAAC,CAEzC,KAAM,CAAAmC,OAAO,CAAG,8CAA8C,CAAE;AAChE,KAAM,CAAAC,MAAM,CAAG,yCAAyC,CAAE;AAE1D;AACA,KAAM,CAAAC,QAAQ,CAAGnC,OAAO,CAAC,IAAM,CAAC,KAAK,CAAE,KAAK,CAAE,MAAM,CAAE,MAAM,CAAE,QAAQ,CAAE,QAAQ,CAAE,KAAK,CAAE,mBAAmB,CAAC,CAAE,EAAE,CAAC,CAElH;AACA,KAAM,CAAAoC,eAAe,CAAGpC,OAAO,CAAC,IAAM,CAAC,QAAQ,CAAE,QAAQ,CAAE,KAAK,CAAE,mBAAmB,CAAC,CAAE,EAAE,CAAC,CAE3FD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAsC,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAI,CACFC,OAAO,CAACC,GAAG,CAAC,+BAA+B,CAAC,CAE5C;AACA,KAAM,CAAAC,cAAc,CAAG,KAAM,CAAArC,kBAAkB,CAAC8B,OAAO,CAAEC,MAAM,CAAEC,QAAQ,CAAC,CAC1EG,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAEC,cAAc,CAAC,CAEhD;AACA,KAAM,CAAAC,OAAO,CAAG,CAAC,CAAC,CAClB,KAAM,CAAAC,mBAAmB,CAAG,CAAC,CAAC,CAE9BF,cAAc,CAACG,OAAO,CAACC,IAAA,EAA8B,IAA7B,CAAEC,OAAO,CAAEC,IAAI,CAAErB,KAAM,CAAC,CAAAmB,IAAA,CAC9C,GAAIE,IAAI,GAAK,IAAI,CAAE,CACjBR,OAAO,CAACb,KAAK,CAAC,wBAAwBoB,OAAO,UAAU,CAAEpB,KAAK,SAALA,KAAK,WAALA,KAAK,CAAEsB,QAAQ,CAAGtB,KAAK,CAACsB,QAAQ,CAACD,IAAI,CAAGrB,KAAK,CAACuB,OAAO,CAAC,CAC/G,OACF,CAEA,KAAM,CAAAC,OAAO,CAAGH,IAAI,CAACI,MAAM,EAAI,EAAE,CACjCZ,OAAO,CAACC,GAAG,CAAC,uBAAuBM,OAAO,EAAE,CAAEI,OAAO,CAACE,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAAC,CAAE;AAEpE,GAAIF,OAAO,CAACG,MAAM,CAAG,CAAC,CAAE,CACtBd,OAAO,CAACe,IAAI,CAAC,wBAAwBR,OAAO,EAAE,CAAC,CACjD,CAAC,IAAM,CACLP,OAAO,CAACC,GAAG,CAAC,iBAAiBM,OAAO,GAAG,CAAEI,OAAO,CAACG,MAAM,CAAC,CAC1D,CAEA;AACAH,OAAO,CAACE,KAAK,CAAC,CAAC,CAAC,CAACR,OAAO,CAAC,CAACW,GAAG,CAAEC,QAAQ,GAAK,CAC1C,KAAM,CAAAC,IAAI,CAAGF,GAAG,CAAC,CAAC,CAAC,CAAE;AAErB;AACA,KAAM,CAAAG,iBAAiB,CAAG,CAAC,QAAQ,CAAE,KAAK,CAAE,mBAAmB,CAAC,CAACC,QAAQ,CAACb,OAAO,CAAC,CAAG,EAAE,CAAG,CAAC,CAE3F;AACA;AACA;AACA,KAAM,CAAAc,mBAAmB,CAAGd,OAAO,GAAK,QAAQ,CAAG,CAAC,CAAG,CAAC,CAExD;AACA,GAAIS,GAAG,CAACG,iBAAiB,CAAC,GAAKG,SAAS,EAAIN,GAAG,CAACK,mBAAmB,CAAC,GAAKC,SAAS,CAAE,CAClF,KAAM,CAAAC,SAAS,CAAGP,GAAG,CAACG,iBAAiB,CAAC,CAACK,OAAO,CAAC,IAAI,CAAE,EAAE,CAAC,CAACC,IAAI,CAAC,CAAC,CACjE,KAAM,CAAAC,WAAW,CAAGV,GAAG,CAACK,mBAAmB,CAAC,CAACG,OAAO,CAAC,IAAI,CAAE,EAAE,CAAC,CAACC,IAAI,CAAC,CAAC,CACrE,KAAM,CAAAE,MAAM,CAAGC,UAAU,CAACL,SAAS,CAAC,CACpC,KAAM,CAAAM,QAAQ,CAAGD,UAAU,CAACF,WAAW,CAAC,CAExC;AACA1B,OAAO,CAACC,GAAG,CAAC,kBAAkBgB,QAAQ,CAAG,CAAC,QAAQV,OAAO,OAAOW,IAAI,cAAcS,MAAM,gBAAgBE,QAAQ,EAAE,CAAC,CAEnH,GAAI,CAACC,KAAK,CAACH,MAAM,CAAC,EAAI,CAACG,KAAK,CAACD,QAAQ,CAAC,CAAE,CACtC;AACA,GAAI,CAAC1B,OAAO,CAACe,IAAI,CAAC,CAAE,CAClBf,OAAO,CAACe,IAAI,CAAC,CAAG,CAAEA,IAAI,CAAEa,aAAa,CAAE,CAAC,CAAEC,KAAK,CAAE,CAAE,CAAC,CAAE;AACxD,CACA7B,OAAO,CAACe,IAAI,CAAC,CAACX,OAAO,CAAC,CAAG,CAACJ,OAAO,CAACe,IAAI,CAAC,CAACX,OAAO,CAAC,EAAI,CAAC,EAAIoB,MAAM,CAC/DxB,OAAO,CAACe,IAAI,CAAC,CAAC,YAAYX,OAAO,EAAE,CAAC,CAAG,CAACJ,OAAO,CAACe,IAAI,CAAC,CAAC,YAAYX,OAAO,EAAE,CAAC,EAAI,CAAC,EAAIsB,QAAQ,CAE7F;AACA1B,OAAO,CAACe,IAAI,CAAC,CAACa,aAAa,EAAIF,QAAQ,CACvC1B,OAAO,CAACe,IAAI,CAAC,CAACc,KAAK,EAAIL,MAAM,CAE7B;AACA,GAAI7B,eAAe,CAACsB,QAAQ,CAACb,OAAO,CAAC,CAAE,CACrC,GAAI,CAACH,mBAAmB,CAACc,IAAI,CAAC,CAAE,CAC9Bd,mBAAmB,CAACc,IAAI,CAAC,CAAG,CAAEA,IAAI,CAAEc,KAAK,CAAE,CAAE,CAAC,CAChD,CACA5B,mBAAmB,CAACc,IAAI,CAAC,CAACX,OAAO,CAAC,CAAG,CAACH,mBAAmB,CAACc,IAAI,CAAC,CAACX,OAAO,CAAC,EAAI,CAAC,EAAIoB,MAAM,CACvFvB,mBAAmB,CAACc,IAAI,CAAC,CAACc,KAAK,EAAIL,MAAM,CAC3C,CACF,CAAC,IAAM,CACL3B,OAAO,CAACe,IAAI,CAAC,2CAA2CE,QAAQ,CAAG,CAAC,QAAQV,OAAO,OAAOW,IAAI,GAAG,CAAEF,GAAG,CAACG,iBAAiB,CAAC,CAAEH,GAAG,CAACK,mBAAmB,CAAC,CAAC,CACtJ,CACF,CAAC,IAAM,CACLrB,OAAO,CAACe,IAAI,CAAC,2CAA2CE,QAAQ,CAAG,CAAC,QAAQV,OAAO,OAAOW,IAAI,EAAE,CAAC,CACnG,CACF,CAAC,CAAC,CACJ,CAAC,CAAC,CAEF;AACA,KAAM,CAAAe,YAAY,CAAGC,MAAM,CAACtB,MAAM,CAACT,OAAO,CAAC,CAC3C,KAAM,CAAAgC,iBAAiB,CAAGD,MAAM,CAACtB,MAAM,CAACR,mBAAmB,CAAC,CAE5DJ,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAEgC,YAAY,CAAC,CAChDjC,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAEkC,iBAAiB,CAAC,CAE3D;AACA,KAAM,CAAAC,kBAAkB,CAAGtE,sBAAsB,CAACqE,iBAAiB,CAAErC,eAAe,CAAC,CAErFtB,cAAc,CAACyD,YAAY,CAAC,CAC5BvD,oBAAoB,CAACZ,sBAAsB,CAACmE,YAAY,CAAEpC,QAAQ,CAAC,CAAC,CACpEjB,iBAAiB,CAACb,mBAAmB,CAACkE,YAAY,CAAEpC,QAAQ,CAAC,CAAC,CAC9Df,mBAAmB,CAACqD,iBAAiB,CAAC,CACtCnD,oBAAoB,CAACoD,kBAAkB,CAAC,CAC1C,CAAE,MAAOjD,KAAK,CAAE,CACdC,QAAQ,CAAC,qBAAqB,CAAC,CAC/BY,OAAO,CAACb,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC9C,CAAC,OAAS,CACRD,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAEDa,YAAY,CAAC,CAAC,CAChB,CAAC,CAAE,CAACH,MAAM,CAAED,OAAO,CAAEE,QAAQ,CAAEC,eAAe,CAAC,CAAC,CAEhD,KAAM,CAAAuC,QAAQ,CAAI9C,GAAG,EAAK,CACxB,GAAI,CAAAC,SAAS,CAAG,WAAW,CAC3B,GAAIH,UAAU,CAACE,GAAG,GAAKA,GAAG,EAAIF,UAAU,CAACG,SAAS,GAAK,WAAW,CAAE,CAClEA,SAAS,CAAG,YAAY,CAC1B,CAEA,KAAM,CAAA8C,UAAU,CACd7C,IAAI,GAAK,OAAO,CAAGlB,WAAW,CAC9BkB,IAAI,GAAK,QAAQ,CAAGhB,iBAAiB,CACrCgB,IAAI,GAAK,KAAK,CAAGd,cAAc,CAC/Bc,IAAI,GAAK,cAAc,CAAGZ,gBAAgB,CAC1CY,IAAI,GAAK,eAAe,CAAGV,iBAAiB,CAAG,EAAE,CAEnD,KAAM,CAAAwD,UAAU,CAAG,CAAC,GAAGD,UAAU,CAAC,CAACE,IAAI,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAK,CAChD,GAAInD,GAAG,GAAK,MAAM,EAAIA,GAAG,GAAK,WAAW,CAAE,CACzC,MAAO,CAAAC,SAAS,GAAK,WAAW,CAC5B,GAAI,CAAAmD,IAAI,CAACF,CAAC,CAAClD,GAAG,CAAC,CAACqD,KAAK,CAAC,GAAG,CAAC,CAACC,OAAO,CAAC,CAAC,CAACC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAG,GAAI,CAAAH,IAAI,CAACD,CAAC,CAACnD,GAAG,CAAC,CAACqD,KAAK,CAAC,GAAG,CAAC,CAACC,OAAO,CAAC,CAAC,CAACC,IAAI,CAAC,GAAG,CAAC,CAAC,CACjG,GAAI,CAAAH,IAAI,CAACD,CAAC,CAACnD,GAAG,CAAC,CAACqD,KAAK,CAAC,GAAG,CAAC,CAACC,OAAO,CAAC,CAAC,CAACC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAG,GAAI,CAAAH,IAAI,CAACF,CAAC,CAAClD,GAAG,CAAC,CAACqD,KAAK,CAAC,GAAG,CAAC,CAACC,OAAO,CAAC,CAAC,CAACC,IAAI,CAAC,GAAG,CAAC,CAAC,CACvG,CAAC,IAAM,CACL,KAAM,CAAAC,MAAM,CAAGN,CAAC,CAAClD,GAAG,CAAC,GAAK+B,SAAS,CAAGmB,CAAC,CAAClD,GAAG,CAAC,CAAG,CAAC,CAChD,KAAM,CAAAyD,MAAM,CAAGN,CAAC,CAACnD,GAAG,CAAC,GAAK+B,SAAS,CAAGoB,CAAC,CAACnD,GAAG,CAAC,CAAG,CAAC,CAChD,MAAO,CAAAC,SAAS,GAAK,WAAW,CAAGuD,MAAM,CAAGC,MAAM,CAAGA,MAAM,CAAGD,MAAM,CACtE,CACF,CAAC,CAAC,CAEE,GAAItD,IAAI,GAAK,OAAO,CAAE,CACxBjB,cAAc,CAAC+D,UAAU,CAAC,CAC5B,CAAC,IAAM,IAAI9C,IAAI,GAAK,QAAQ,CAAE,CAC5Bf,oBAAoB,CAAC6D,UAAU,CAAC,CAClC,CAAC,IAAM,IAAI9C,IAAI,GAAK,KAAK,CAAE,CACzBb,iBAAiB,CAAC2D,UAAU,CAAC,CAC/B,CAAC,IAAM,IAAI9C,IAAI,GAAK,cAAc,CAAE,CAClCX,mBAAmB,CAACyD,UAAU,CAAC,CACjC,CAAC,IAAM,IAAI9C,IAAI,GAAK,eAAe,CAAE,CACnCT,oBAAoB,CAACuD,UAAU,CAAC,CAClC,CAEAjD,aAAa,CAAC,CAAEC,GAAG,CAAEC,SAAU,CAAC,CAAC,CACnC,CAAC,CAED,GAAIP,OAAO,CAAE,mBAAOhB,IAAA,QAAAgF,QAAA,CAAK,YAAU,CAAK,CAAC,CACzC,GAAI9D,KAAK,CAAE,mBAAOlB,IAAA,QAAAgF,QAAA,CAAM9D,KAAK,CAAM,CAAC,CAEpC,mBACEhB,KAAA,QAAA8E,QAAA,eACEhF,IAAA,OAAAgF,QAAA,CAAI,qBAAmB,CAAI,CAAC,cAC5B9E,KAAA,QAAA8E,QAAA,eACEhF,IAAA,WAAQiF,OAAO,CAAEA,CAAA,GAAMxD,OAAO,CAAC,OAAO,CAAE,CAAAuD,QAAA,CAAC,eAAa,CAAQ,CAAC,cAC/DhF,IAAA,WAAQiF,OAAO,CAAEA,CAAA,GAAMxD,OAAO,CAAC,QAAQ,CAAE,CAAAuD,QAAA,CAAC,gBAAc,CAAQ,CAAC,cACjEhF,IAAA,WAAQiF,OAAO,CAAEA,CAAA,GAAMxD,OAAO,CAAC,KAAK,CAAE,CAAAuD,QAAA,CAAC,aAAW,CAAQ,CAAC,cAC3DhF,IAAA,WAAQiF,OAAO,CAAEA,CAAA,GAAMxD,OAAO,CAAC,cAAc,CAAE,CAAAuD,QAAA,CAAC,sBAAoB,CAAQ,CAAC,cAC7EhF,IAAA,WAAQiF,OAAO,CAAEA,CAAA,GAAMxD,OAAO,CAAC,eAAe,CAAE,CAAAuD,QAAA,CAAC,uBAAqB,CAAQ,CAAC,EAC5E,CAAC,CACLxD,IAAI,GAAK,OAAO,cACftB,KAAA,CAAAE,SAAA,EAAA4E,QAAA,eACEhF,IAAA,OAAAgF,QAAA,CAAI,eAAa,CAAI,CAAC,cACtBhF,IAAA,CAACL,YAAY,EACX4C,IAAI,CAAEjC,WAAY,CAClBc,UAAU,CAAEA,UAAW,CACvBgD,QAAQ,CAAEA,QAAS,CACnBxC,QAAQ,CAAEA,QAAS,CACnBsD,QAAQ,CAAE,KAAM,CAChBC,YAAY,CAAE,KAAM,CACrB,CAAC,EACF,CAAC,CACD3D,IAAI,GAAK,QAAQ,cACnBtB,KAAA,CAAAE,SAAA,EAAA4E,QAAA,eACEhF,IAAA,OAAAgF,QAAA,CAAI,gBAAc,CAAI,CAAC,cACvBhF,IAAA,CAACL,YAAY,EACX4C,IAAI,CAAE/B,iBAAkB,CACxBY,UAAU,CAAEA,UAAW,CACvBgD,QAAQ,CAAEA,QAAS,CACnBxC,QAAQ,CAAEA,QAAS,CACnBsD,QAAQ,CAAE,IAAK,CACfC,YAAY,CAAE,KAAM,CACrB,CAAC,EACF,CAAC,CACD3D,IAAI,GAAK,KAAK,cAChBtB,KAAA,CAAAE,SAAA,EAAA4E,QAAA,eACEhF,IAAA,OAAAgF,QAAA,CAAI,aAAW,CAAI,CAAC,cACpBhF,IAAA,CAACL,YAAY,EACX4C,IAAI,CAAE7B,cAAe,CACrBU,UAAU,CAAEA,UAAW,CACvBgD,QAAQ,CAAEA,QAAS,CACnBxC,QAAQ,CAAEA,QAAS,CACnBsD,QAAQ,CAAE,KAAM,CAChBC,YAAY,CAAE,IAAK,CACpB,CAAC,EACF,CAAC,CACD3D,IAAI,GAAK,cAAc,cACzBtB,KAAA,CAAAE,SAAA,EAAA4E,QAAA,eACEhF,IAAA,OAAAgF,QAAA,CAAI,sBAAoB,CAAI,CAAC,cAC7BhF,IAAA,CAACL,YAAY,EACX4C,IAAI,CAAE3B,gBAAiB,CACvBQ,UAAU,CAAEA,UAAW,CACvBgD,QAAQ,CAAEA,QAAS,CACnBxC,QAAQ,CAAEC,eAAgB,CAC1BqD,QAAQ,CAAE,KAAM,CAChBC,YAAY,CAAE,KAAM,CACrB,CAAC,EACF,CAAC,CACD3D,IAAI,GAAK,eAAe,cAC1BtB,KAAA,CAAAE,SAAA,EAAA4E,QAAA,eACEhF,IAAA,OAAAgF,QAAA,CAAI,uBAAqB,CAAI,CAAC,cAC9BhF,IAAA,CAACL,YAAY,EACX4C,IAAI,CAAEzB,iBAAkB,CACxBM,UAAU,CAAEA,UAAW,CACvBgD,QAAQ,CAAEA,QAAS,CACnBxC,QAAQ,CAAEC,eAAgB,CAC1BqD,QAAQ,CAAE,IAAK,CACfC,YAAY,CAAE,KAAM,CACrB,CAAC,EACF,CAAC,CACD,IAAI,EACL,CAAC,CAEV,CAAC,CAED,cAAe,CAAA9E,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}